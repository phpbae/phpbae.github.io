---
title: "2018-09-18 Vue 상태관리(Vuex) - 모듈"
date: 2018-09-18 00:00:00
search: true
categories:
  - vue

defaults:
  # _posts
  - scope:
      path: ""
      type: posts
    values:
      layout: single
      author_profile: true
      read_time: true
      comments: true
      share: true
      related: true
---

### Vue 상태관리(Vuex) - 모듈(Module)


#### 모듈(Module)?
```
- Vuex 가 다루는 상태, 액션, 변이 메서드의 수가 증가하면, 개라밪가 유지보수 하기 어려움.
- 애플리케이션 규모가 커짐에 따라, 저장소를 분리할 필요가 있음.

-> 위와 같은 목적으로 사용할 수 있도록 Vuex 에서 모듈 개념을 지원. 모듈은 분리된 저장소를 하나의 저장소 객체인
것처럼 다룰 수 있도록 도와줌.
```



#### Vuex Module
```

Vuex.Store 클래스의 modules 옵션에 지역 저장소 객체를 제공.

modules 옵션을 이용.
객체옵션.
예시)
  modules: {
    <모듈이름> : <지역 저장소 객체>,  
  }

지역 저장소 객체는
state
mutations
actions
getters
modules
위와 같은 옵션을 사용할 수 있다.


module 을 생성해주자.
src/stoer_modules/

moduleA.js
moduleB.js
생성

export const moduleA = {
  state: {
    aNum: 100
  },
  mutations: {
    increment: (state) => {
      state.aNum++
    },
    getters: {
      getNum: (state) => {
        return state.aNum
      }
    }
  }
}

export const moduleB = {
  state: {
    bNum: 999
  },
  mutations: {
    increment2: (state) => {
      state.bNum++
    },
    getters: {
      getNum2: (state) => {
        return state.bNum
      }
    }
  }
}


store.js

import Vue from 'vue'
import Vuex from 'vuex'
import {moduleA} from './store_modules/moduleA'
import {moduleB} from './store_modules/moduleB'

Vue.use(Vuex)

export default new Vuex.Store({
  // modules 추가
  modules: {
    a: moduleA,
    b: moduleB
  },
  // countNum 을 state 속성 추가
  state: {
    countNum: 0
  },
  getters: {
    getCountNumFromStore: (state) => {
      return state.countNum
    }
  },
  mutations: {
    addCountNum: function (state) {
      state.countNum++
    },
    addCountNum2: function (state, payload) {
      state.countNum += payload.num
    },
    subtractionCountNum: function (state) {
      state.countNum--
    }
  },
  actions: {
    addCount: function (context) {
      // commit 의 대상인 addCountNum 는 mutations 의 메서드를 의미한다.
      return context.commit('addCountNum')
    },
    decreaseCount: function (context) {
      // Promise 객체를 명시적으로 반환하는 액션 메서드
      return new Promise((resolve, reject) => {
        resolve()
        setTimeout(function () {
          context.commit('subtractionCountNum')
        }, 1000)
      })
    }
  }
})


componetns 에서 접근을 해보자.

this.$store.getters.getNum
this.$store.commit('increment')

this.$store.getters.getNum2
this.$store.commit('increment2')

위와 같이 사용하면, 접근이 가능하다.

```
